<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Interesting CodeChef Problem | Yeedrag's website :D</title><meta name="author" content="Yeedrag"><meta name="copyright" content="Yeedrag"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="A while ago, someone in a server asked for help with this problem: Equality Etiquette I solved it while I was on the airplane coming back to the US, and I thought it was a really interesting problem!">
<meta property="og:type" content="article">
<meta property="og:title" content="Interesting CodeChef Problem">
<meta property="og:url" content="http://example.com/2024/02/11/Interesting-CodeChef-Problem/index.html">
<meta property="og:site_name" content="Yeedrag&#39;s website :D">
<meta property="og:description" content="A while ago, someone in a server asked for help with this problem: Equality Etiquette I solved it while I was on the airplane coming back to the US, and I thought it was a really interesting problem!">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://pbs.twimg.com/profile_images/1610231810201636870/Nj3OUXrQ_400x400.jpg">
<meta property="article:published_time" content="2024-02-11T18:05:34.000Z">
<meta property="article:modified_time" content="2024-04-01T18:46:36.797Z">
<meta property="article:author" content="Yeedrag">
<meta property="article:tag" content="CP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pbs.twimg.com/profile_images/1610231810201636870/Nj3OUXrQ_400x400.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2024/02/11/Interesting-CodeChef-Problem/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Interesting CodeChef Problem',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-04-01 13:46:36'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/modify.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link href="https://cdn.bootcss.com/KaTeX/0.11.1/katex.min.css" rel="stylesheet" /></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://pbs.twimg.com/profile_images/1610231810201636870/Nj3OUXrQ_400x400.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"><nav id="nav"><span id="blog-info"><a href="/" title="Yeedrag's website :D"><span class="site-name">Yeedrag's website :D</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Interesting CodeChef Problem</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-02-11T18:05:34.000Z" title="Created 2024-02-11 12:05:34">2024-02-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-04-01T18:46:36.797Z" title="Updated 2024-04-01 13:46:36">2024-04-01</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">615</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>3mins</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>A while ago, someone in a server asked for help with this problem:</p>
<h2 id="equality-etiquette"><a target="_blank" rel="noopener" href="https://www.codechef.com/problems/EQUAL2?tab=statement">Equality Etiquette</a></h2>
<p>I solved it while I was on the airplane coming back to the US, and I thought it was a really interesting problem!</p>
<p>I’ll give my detailed explaination for this problem here:</p>
<p>The first thing I noticed immediately, is that the operations are not as complicated as it seems.<br>
We only care about making the difference of the two numbers 0, and we can notice that adding a number to the bigger number does the same as subtracting a number to the smaller number, which is adding the number to the difference. The same goes for subtracting to the bigger number and adding to the smaller number, which subtracts the number from the difference.</p>
<p>So the problem now becomes: Whats the minimum number of n, such that when we apply positive and negative signs on certain numbers from 1 to n, the total sum will become the difference?<br>
Before finding this exactly though, I first questioned that does there exist a number that couldn’t be constructed by the operation, so I tried a couple numbers and I noticed that we can always construct the number with the operations!</p>
<p>Namely, if the difference is odd, we can use the first 2 * diff - 1 numbers, and all numbers apart from diff will pair up and eliminate each other. An example is diff = 3:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">diff = <span class="number">3</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> -&gt; (<span class="number">1</span> + <span class="number">5</span>) - (<span class="number">2</span> + <span class="number">4</span>) + <span class="number">3</span> = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>And if the difference is even, we can use the first 2 * diff numbers, so that the left out pair will pair up with the number 2 * diff. An example is diff = 4:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">diff = <span class="number">4</span></span><br><span class="line"><span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span> -&gt; (<span class="number">1</span> + <span class="number">7</span>) - (<span class="number">2</span> + <span class="number">6</span>) + (<span class="number">3</span> + <span class="number">5</span>) - (<span class="number">8</span>) + <span class="number">4</span> = <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>So now we know an answer always exists. But now we need to figure out how can we get the optimal, smallest n? To figure this out, I tried out a few values of n to see what numbers can we obtain from the operation:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">4</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span> + <span class="number">4</span> = <span class="number">10</span></span><br><span class="line">(<span class="number">-1</span>) + <span class="number">2</span> + <span class="number">3</span> + <span class="number">4</span> = <span class="number">8</span></span><br><span class="line"><span class="number">1</span> + (<span class="number">-2</span>) + <span class="number">3</span> + <span class="number">4</span> = <span class="number">6</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + (<span class="number">-3</span>) = <span class="number">4</span> = <span class="number">4</span></span><br><span class="line">...etc</span><br><span class="line"></span><br><span class="line">n = <span class="number">5</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="number">3</span> + <span class="number">4</span> + <span class="number">5</span> = <span class="number">15</span></span><br><span class="line">(<span class="number">-1</span>) + <span class="number">2</span> + <span class="number">3</span> + <span class="number">4</span> + <span class="number">5</span> = <span class="number">13</span></span><br><span class="line"><span class="number">1</span> + (<span class="number">-2</span>) + <span class="number">3</span> + <span class="number">4</span> + <span class="number">5</span> = <span class="number">11</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + (<span class="number">-3</span>) + <span class="number">4</span> + <span class="number">5</span> = <span class="number">9</span></span><br><span class="line">...etc</span><br></pre></td></tr></table></figure>
<p>Have you noticed a pattern? It turns out that we can actually make all S(n) - 2k &gt; 0 numbers (All numbers smaller than S(n) greater than 0 that have the same parity as it), where S(n) is the sum from 1 to n. You can prove this easily with induction but I think just observing should be quite obvious.<br>
Now, the problem is reduced to finding a minimum number n, such that S(n) is greater than the difference and they have the same parity.<br>
We can find the S(n) &gt; difference with a simple binary search, then just find the closest n with the same parity as diff, it will only be at most 2 away from the first number we obtained.<br>
Code:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum</span><span class="params">(<span class="type">int</span> num)</span> </span>&#123;<span class="keyword">return</span> (num * (num + <span class="number">1</span>)) / <span class="number">2</span>;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="type">int</span> diff = <span class="built_in">abs</span>(a - b);</span><br><span class="line">    <span class="keyword">if</span>(diff == <span class="number">0</span>) &#123;</span><br><span class="line">        cout &lt;&lt; <span class="number">0</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> l = <span class="number">1</span>, r = <span class="number">1e6</span>;</span><br><span class="line">    <span class="keyword">while</span>(r - l &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> m = (r + l) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">sum</span>(m) &lt; diff) l = m;</span><br><span class="line">        <span class="keyword">else</span> r = m;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> num = (<span class="built_in">sum</span>(l) &gt;= diff) ? l : r;</span><br><span class="line">    <span class="keyword">while</span>((<span class="built_in">sum</span>(num) % <span class="number">2</span>) != (diff % <span class="number">2</span>)) &#123;</span><br><span class="line">        num += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; num &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CP/">CP</a></div><div class="post_share"></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://pbs.twimg.com/profile_images/1610231810201636870/Nj3OUXrQ_400x400.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Yeedrag</div><div class="author-info__description">A nobody trying to become somebody</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">26</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yeedrag"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/yeedrag" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:yeedrag0722@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Thanks for passing by!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#equality-etiquette"><span class="toc-number">1.</span> <span class="toc-text">Equality Etiquette</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/14/End-of-Freshman-Year/" title="End of Freshman Year">End of Freshman Year</a><time datetime="2024-05-15T01:35:14.000Z" title="Created 2024-05-14 20:35:14">2024-05-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/05/11/Linear-Algebra-in-ML-1-PCA/" title="Linear Algebra in ML: PCA">Linear Algebra in ML: PCA</a><time datetime="2024-05-11T06:29:00.000Z" title="Created 2024-05-11 01:29:00">2024-05-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/23/CM-CF-Practice/" title="CM+ CF Practice">CM+ CF Practice</a><time datetime="2024-03-23T22:11:21.000Z" title="Created 2024-03-23 17:11:21">2024-03-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/02/Paper-Reading-2-R-CNN-Fast-R-CNN-Faster-R-CNN/" title="Paper Reading 2: R-CNN, Fast R-CNN, Faster R-CNN">Paper Reading 2: R-CNN, Fast R-CNN, Faster R-CNN</a><time datetime="2024-03-03T05:54:46.000Z" title="Created 2024-03-02 23:54:46">2024-03-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/02/24/Paper-Reading-1-AlexNet-VGG-and-U-Net/" title="Paper Reading 1: AlexNet, VGG and U-Net">Paper Reading 1: AlexNet, VGG and U-Net</a><time datetime="2024-02-24T22:28:26.000Z" title="Created 2024-02-24 16:28:26">2024-02-24</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024 By Yeedrag</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script></div></body></html>